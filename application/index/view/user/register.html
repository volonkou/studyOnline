{include file="public:header"/}
<div class="col-md-12" style="margin-top: 60px;">

    <div class="col-md-4"></div>
    <div class="col-md-4">
        <h2 style="margin-bottom: 20px">用户注册</h2>
        <form method="post" id="login">
            <div class="form-group">
                <label for="exampleInputEmail1">用户名</label>
                <input name="name" class="form-control" id="exampleInputEmail1" placeholder="用户名">
            </div>
            <div class="form-group">
                <label for="exampleInputEmail2">邮箱</label>
                <input name="email" class="form-control" id="exampleInputEmail2" placeholder="邮箱">
            </div>
            <div class="form-group">
                <label for="exampleInputEmail3">密码</label>
                <input type="password" name="password" class="form-control" id="exampleInputEmail3" placeholder="密码">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword4">确认密码</label>
                <input type="password" name="password_confirm" class="form-control" id="exampleInputPassword4" placeholder="确认密码">
            </div>

            <button type="button" class="btn btn-primary" id="register">注册</button><span id="message" style="margin-left:20px;color: red"></span>
        </form>

    </div>
    <div class="col-md-4"></div>
</div>

<script>
    $(function () {
        $("#register").on('click', function () {
            let data=$('#login').serialize()
            console.log(data)
            $.ajax({
                type: 'post',
                url: "{:url('insert')}",
                data: data,
                dataType: 'json',
                success: function (data) {
                    console.log(data)
                    switch (data.status) {
                        case 1:
                            alert(data.message)
                            window.location.href="/index/index/index"
                            break;
                        case 0:
                        case -1:
                            $('#message').empty();
                            $('#message').append(data.message)
                            break;
                    }
                }
            })
        })
    })
</script>


{include file="public:footer"/}